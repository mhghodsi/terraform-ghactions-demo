locals {
  # Get the current workspace name (dev or prod)
  env = terraform.workspace
  
  # Ensure workspace is either dev or prod
  valid_workspace = contains(["dev", "prod"], terraform.workspace) ? terraform.workspace : "default"
  
  # Create a prefix for all resources based on workspace
  prefix = "${local.valid_workspace}_"
  
  # Create a formatted bucket name with workspace prefix
  format_bucket_name = function(name) {
    return "${local.prefix}${name}"
  }
}
